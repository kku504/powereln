<% protocol ||= my_module.protocol %>
<% for_export_all = defined?(export_all) && export_all %>
<div class="report-element report-module-protocol-element" data-ts="<%= protocol.created_at %>" data-type="my_module_protocol" data-id='{ "my_module_id": <%= my_module.id %> }' data-scroll-id="<%= protocol.id %>">
  <div class="report-element-header">
    <div class="row">
      <div class="pull-left user-time">
        <%=t "projects.reports.elements.module.protocol.user_time", timestamp: l(protocol.created_at, format: :full) %>
      </div>
      <div class="pull-right controls">
        <%= render partial: "reports/elements/element_controls.html.erb", locals: { show_sort: true } %>
      </div>
    </div>
  </div>
  <div class="report-element-body">
    <div class="row module-protocol-description">
      <% if protocol.description.present? %>
        <%= custom_auto_link(protocol.prepare_for_report(:description, for_export_all),
                             team: current_team,
                             base64_encoded_imgs: for_export_all) %>
      <% else %>
        <em><%= t('my_modules.protocols.protocol_status_bar.no_description') %></em>
      <% end %>
    </div>
  </div>
</div>
